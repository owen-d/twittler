<!DOCTYPE html>
<html>
  <head>
    <script src="jquery.js"></script>
    <script src="data_generator.js"></script>
    <link rel="stylesheet" href="main.css">
  </head>
  <body>
    <script>

      $(document).ready(function(){
        var $body = $('body');
        

        
        var counter = 0;

        function pusher(domain){
          var index;
          var tweet;
          if (domain === 'home') {
            index = streams.home.length;
            tweet = streams.home[counter];
          }
          else {
            index = streams.users[domain].length;
            tweet = streams.users[domain][counter];
          }
          var $tweet = $('<div></div>');
          var dated = tweet.created_at;
          var monthList = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];
          var dayList = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'];
          while(counter < index){
            //$tweetClear here
            $tweet.find('h4, p, a').remove();
            //now put new information
            $tweet.addClass('tweet-wrapper').append('<h4></h4>').append('<a></a>').append('<h4></h4>');
            $tweet.children('a').addClass('account-tweet').text(tweet.user).attr('href', '#returnTop');
            $tweet.children('h4').first().addClass('account-tweet').text('@');
            $tweet.children('h4').last().addClass('account-tweet').text(' on ' + dayList[dated.getDay()] + ', ' + monthList[dated.getMonth()] + ' ' + dated.getDate() + ' at ' + dated.getHours() + ':' + dated.getMinutes()).append('<p></p>');
            $tweet.children('h4').children('p').addClass('tweet').text(tweet.message);
            $('.feed').prepend($tweet);
            counter++;


          }
          console.log(index);
          console.log(counter);
          console.log(tweet);
          
        }
        
        var timer;
        var refresh = function(){
          pusher('home');
          timer = setTimeout(refresh, 3000);
          return timer;
        };
        refresh();
      
        $('.feed').on('click', 'a', function(){
          
          clearTimeout(timer);
          console.log('hi');

        });

      });

    </script>
<!-- This is the html design-->
<!-- Header-->
      <header class ='header container'>
        <h1 class = 'logo'>
          <p>Twittler</p>
        </h1>
      </header>

<!-- Main Content -->
    <div class='break' id='returnTop'>
      <section class ='container feed'>
      </section>
    </div>

      <footer class='footer container'>
        <small>&copy; Twittler</small>
      </footer>




  </body>
</html>
